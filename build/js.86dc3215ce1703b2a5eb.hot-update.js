webpackHotUpdate("js",{

/***/ "./js/game.js":
/*!********************!*\
  !*** ./js/game.js ***!
  \********************/
/*! exports provided: restart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restart", function() { return restart; });
/* harmony import */ var _mainMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mainMenu.js */ "./js/mainMenu.js");

const mainMenuBtn = document.getElementById('main-menu');
mainMenuBtn.addEventListener('click', _mainMenu_js__WEBPACK_IMPORTED_MODULE_0__["toMainMenu"]);
const restartBtn = document.getElementById('restart');
restartBtn.addEventListener('click', restart);
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const ground = new Image();
ground.src = './img/ground.png';
const foodImg = new Image(); //deprecated

foodImg.src = './img/food.png';
let box = 32;
let score = 0;
let food = {
  x: Math.floor(Math.random() * 17 + 1) * box,
  y: Math.floor(Math.random() * 15 + 3) * box
};
let snake = [];
snake[0] = {
  x: 9 * box,
  y: 10 * box
};
document.addEventListener('keydown', direction);
let dir;
let tickDir;

function direction(event) {
  if (event.keyCode == 37 && dir != 'right' && tickDir != 'right') dir = 'left';else if (event.keyCode == 38 && dir != 'down' && tickDir != 'down') dir = 'up';else if (event.keyCode == 39 && dir != 'left' && tickDir != 'left') dir = 'right';else if (event.keyCode == 40 && dir != 'up' && tickDir != 'up') dir = 'down';
}

function eatTail(head, body) {
  for (let i in body) {
    if (head.x == body[i].x && head.y == body[i].y) finishGame();
  }
}

function finishGame() {
  clearInterval(game);
  restartBtn.classList.remove('disabled');
  mainMenuBtn.classList.remove('disabled');
}

function restart() {
  restartBtn.classList.add('disabled');
  mainMenuBtn.classList.add('disabled');
  score = 0;
  food = {
    x: Math.floor(Math.random() * 17 + 1) * box,
    y: Math.floor(Math.random() * 15 + 3) * box
  };
  snake = [];
  snake[0] = {
    x: 9 * box,
    y: 10 * box
  };
  dir = null;
  tickDir = null;
  game = setInterval(drawGame, 100);
}

function drawGame() {
  ctx.drawImage(ground, 0, 0); // ctx.drawImage(foodImg, food.x, food.y, box, box)

  ctx.fillStyle = 'red';
  ctx.fillRect(food.x, food.y, box, box);

  for (let i in snake) {
    ctx.fillStyle = i == 0 ? 'yellow' : 'green';
    ctx.fillRect(snake[i].x, snake[i].y, box, box);
  }

  ctx.fillStyle = 'white';
  ctx.font = '35px "Shovel Knight (extended)"';
  ctx.fillText(score, box * 2.5, box * 1.6);
  let snakeX = snake[0].x;
  let snakeY = snake[0].y;

  if (snakeX == food.x && snakeY == food.y) {
    score++;
    food = {
      x: Math.floor(Math.random() * 17 + 1) * box,
      y: Math.floor(Math.random() * 15 + 3) * box
    };
  } else snake.pop();

  if (snakeX < box || snakeX > box * 17 || snakeY < box * 3 || snakeY > box * 17) finishGame();
  if (dir == 'left') snakeX -= box;
  if (dir == 'right') snakeX += box;
  if (dir == 'up') snakeY -= box;
  if (dir == 'down') snakeY += box;
  tickDir = dir;
  let newHead = {
    x: snakeX,
    y: snakeY
  };
  eatTail(newHead, snake);
  snake.unshift(newHead);
}

let game;

/***/ })

})
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9nYW1lLmpzIl0sIm5hbWVzIjpbIm1haW5NZW51QnRuIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b01haW5NZW51IiwicmVzdGFydEJ0biIsInJlc3RhcnQiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZ3JvdW5kIiwiSW1hZ2UiLCJzcmMiLCJmb29kSW1nIiwiYm94Iiwic2NvcmUiLCJmb29kIiwieCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInkiLCJzbmFrZSIsImRpcmVjdGlvbiIsImRpciIsInRpY2tEaXIiLCJldmVudCIsImtleUNvZGUiLCJlYXRUYWlsIiwiaGVhZCIsImJvZHkiLCJpIiwiZmluaXNoR2FtZSIsImNsZWFySW50ZXJ2YWwiLCJnYW1lIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwic2V0SW50ZXJ2YWwiLCJkcmF3R2FtZSIsImRyYXdJbWFnZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZm9udCIsImZpbGxUZXh0Iiwic25ha2VYIiwic25ha2VZIiwicG9wIiwibmV3SGVhZCIsInVuc2hpZnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLFdBQVcsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLFdBQXhCLENBQXBCO0FBQ0FGLFdBQVcsQ0FBQ0csZ0JBQVosQ0FBNkIsT0FBN0IsRUFBc0NDLHVEQUF0QztBQUVBLE1BQU1DLFVBQVUsR0FBR0osUUFBUSxDQUFDQyxjQUFULENBQXdCLFNBQXhCLENBQW5CO0FBQ0FHLFVBQVUsQ0FBQ0YsZ0JBQVgsQ0FBNEIsT0FBNUIsRUFBcUNHLE9BQXJDO0FBRUEsTUFBTUMsTUFBTSxHQUFHTixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBZjtBQUNBLE1BQU1NLEdBQUcsR0FBR0QsTUFBTSxDQUFDRSxVQUFQLENBQWtCLElBQWxCLENBQVo7QUFFQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUMsS0FBSixFQUFmO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxHQUFhLGtCQUFiO0FBRUEsTUFBTUMsT0FBTyxHQUFHLElBQUlGLEtBQUosRUFBaEIsQyxDQUE0Qjs7QUFDNUJFLE9BQU8sQ0FBQ0QsR0FBUixHQUFjLGdCQUFkO0FBRUEsSUFBSUUsR0FBRyxHQUFHLEVBQVY7QUFFQSxJQUFJQyxLQUFLLEdBQUcsQ0FBWjtBQUVBLElBQUlDLElBQUksR0FBRztBQUNWQyxHQUFDLEVBQUVDLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsS0FBZ0IsRUFBaEIsR0FBcUIsQ0FBaEMsSUFBcUNOLEdBRDlCO0FBRVZPLEdBQUMsRUFBRUgsSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxLQUFnQixFQUFoQixHQUFxQixDQUFoQyxJQUFxQ047QUFGOUIsQ0FBWDtBQUtBLElBQUlRLEtBQUssR0FBRyxFQUFaO0FBQ0FBLEtBQUssQ0FBQyxDQUFELENBQUwsR0FBVztBQUNWTCxHQUFDLEVBQUUsSUFBSUgsR0FERztBQUVWTyxHQUFDLEVBQUUsS0FBS1A7QUFGRSxDQUFYO0FBS0FiLFFBQVEsQ0FBQ0UsZ0JBQVQsQ0FBMEIsU0FBMUIsRUFBcUNvQixTQUFyQztBQUVBLElBQUlDLEdBQUo7QUFDQSxJQUFJQyxPQUFKOztBQUVBLFNBQVNGLFNBQVQsQ0FBbUJHLEtBQW5CLEVBQTBCO0FBQ3pCLE1BQUdBLEtBQUssQ0FBQ0MsT0FBTixJQUFpQixFQUFqQixJQUF1QkgsR0FBRyxJQUFJLE9BQTlCLElBQXlDQyxPQUFPLElBQUksT0FBdkQsRUFDQ0QsR0FBRyxHQUFHLE1BQU4sQ0FERCxLQUVLLElBQUdFLEtBQUssQ0FBQ0MsT0FBTixJQUFpQixFQUFqQixJQUF3QkgsR0FBRyxJQUFJLE1BQS9CLElBQXlDQyxPQUFPLElBQUksTUFBdkQsRUFDSkQsR0FBRyxHQUFHLElBQU4sQ0FESSxLQUVBLElBQUdFLEtBQUssQ0FBQ0MsT0FBTixJQUFpQixFQUFqQixJQUF3QkgsR0FBRyxJQUFJLE1BQS9CLElBQXlDQyxPQUFPLElBQUksTUFBdkQsRUFDSkQsR0FBRyxHQUFHLE9BQU4sQ0FESSxLQUVBLElBQUdFLEtBQUssQ0FBQ0MsT0FBTixJQUFpQixFQUFqQixJQUF3QkgsR0FBRyxJQUFJLElBQS9CLElBQXVDQyxPQUFPLElBQUksSUFBckQsRUFDSkQsR0FBRyxHQUFHLE1BQU47QUFDRDs7QUFFRCxTQUFTSSxPQUFULENBQWlCQyxJQUFqQixFQUF1QkMsSUFBdkIsRUFBNkI7QUFDNUIsT0FBSyxJQUFJQyxDQUFULElBQWNELElBQWQsRUFBb0I7QUFDbkIsUUFDQ0QsSUFBSSxDQUFDWixDQUFMLElBQVVhLElBQUksQ0FBQ0MsQ0FBRCxDQUFKLENBQVFkLENBQWxCLElBQ0FZLElBQUksQ0FBQ1IsQ0FBTCxJQUFVUyxJQUFJLENBQUNDLENBQUQsQ0FBSixDQUFRVixDQUZuQixFQUdHVyxVQUFVO0FBQ2I7QUFDRDs7QUFFRCxTQUFTQSxVQUFULEdBQXNCO0FBQ3JCQyxlQUFhLENBQUNDLElBQUQsQ0FBYjtBQUNBN0IsWUFBVSxDQUFDOEIsU0FBWCxDQUFxQkMsTUFBckIsQ0FBNEIsVUFBNUI7QUFDQXBDLGFBQVcsQ0FBQ21DLFNBQVosQ0FBc0JDLE1BQXRCLENBQTZCLFVBQTdCO0FBQ0E7O0FBRU0sU0FBUzlCLE9BQVQsR0FBbUI7QUFDekJELFlBQVUsQ0FBQzhCLFNBQVgsQ0FBcUJFLEdBQXJCLENBQXlCLFVBQXpCO0FBQ0FyQyxhQUFXLENBQUNtQyxTQUFaLENBQXNCRSxHQUF0QixDQUEwQixVQUExQjtBQUVBdEIsT0FBSyxHQUFHLENBQVI7QUFFQUMsTUFBSSxHQUFHO0FBQ05DLEtBQUMsRUFBRUMsSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxLQUFnQixFQUFoQixHQUFxQixDQUFoQyxJQUFxQ04sR0FEbEM7QUFFTk8sS0FBQyxFQUFFSCxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCLEVBQWhCLEdBQXFCLENBQWhDLElBQXFDTjtBQUZsQyxHQUFQO0FBS0FRLE9BQUssR0FBRyxFQUFSO0FBQ0FBLE9BQUssQ0FBQyxDQUFELENBQUwsR0FBVztBQUNWTCxLQUFDLEVBQUUsSUFBSUgsR0FERztBQUVWTyxLQUFDLEVBQUUsS0FBS1A7QUFGRSxHQUFYO0FBS0FVLEtBQUcsR0FBRyxJQUFOO0FBQ0FDLFNBQU8sR0FBRyxJQUFWO0FBRUFTLE1BQUksR0FBR0ksV0FBVyxDQUFDQyxRQUFELEVBQVcsR0FBWCxDQUFsQjtBQUNBOztBQUVELFNBQVNBLFFBQVQsR0FBb0I7QUFDbkIvQixLQUFHLENBQUNnQyxTQUFKLENBQWM5QixNQUFkLEVBQXNCLENBQXRCLEVBQXlCLENBQXpCLEVBRG1CLENBR25COztBQUNBRixLQUFHLENBQUNpQyxTQUFKLEdBQWdCLEtBQWhCO0FBQ0FqQyxLQUFHLENBQUNrQyxRQUFKLENBQWExQixJQUFJLENBQUNDLENBQWxCLEVBQXFCRCxJQUFJLENBQUNLLENBQTFCLEVBQTZCUCxHQUE3QixFQUFrQ0EsR0FBbEM7O0FBRUEsT0FBSyxJQUFJaUIsQ0FBVCxJQUFjVCxLQUFkLEVBQXFCO0FBQ3BCZCxPQUFHLENBQUNpQyxTQUFKLEdBQWdCVixDQUFDLElBQUksQ0FBTCxHQUFTLFFBQVQsR0FBb0IsT0FBcEM7QUFDQXZCLE9BQUcsQ0FBQ2tDLFFBQUosQ0FBYXBCLEtBQUssQ0FBQ1MsQ0FBRCxDQUFMLENBQVNkLENBQXRCLEVBQXlCSyxLQUFLLENBQUNTLENBQUQsQ0FBTCxDQUFTVixDQUFsQyxFQUFxQ1AsR0FBckMsRUFBMENBLEdBQTFDO0FBQ0E7O0FBRUROLEtBQUcsQ0FBQ2lDLFNBQUosR0FBZ0IsT0FBaEI7QUFDQWpDLEtBQUcsQ0FBQ21DLElBQUosR0FBVyxpQ0FBWDtBQUNBbkMsS0FBRyxDQUFDb0MsUUFBSixDQUFhN0IsS0FBYixFQUFvQkQsR0FBRyxHQUFHLEdBQTFCLEVBQStCQSxHQUFHLEdBQUcsR0FBckM7QUFFQSxNQUFJK0IsTUFBTSxHQUFHdkIsS0FBSyxDQUFDLENBQUQsQ0FBTCxDQUFTTCxDQUF0QjtBQUNBLE1BQUk2QixNQUFNLEdBQUd4QixLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVNELENBQXRCOztBQUVBLE1BQUd3QixNQUFNLElBQUk3QixJQUFJLENBQUNDLENBQWYsSUFBb0I2QixNQUFNLElBQUk5QixJQUFJLENBQUNLLENBQXRDLEVBQXlDO0FBQ3hDTixTQUFLO0FBRUxDLFFBQUksR0FBRztBQUNOQyxPQUFDLEVBQUVDLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsS0FBZ0IsRUFBaEIsR0FBcUIsQ0FBaEMsSUFBcUNOLEdBRGxDO0FBRU5PLE9BQUMsRUFBRUgsSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxLQUFnQixFQUFoQixHQUFxQixDQUFoQyxJQUFxQ047QUFGbEMsS0FBUDtBQUlBLEdBUEQsTUFPT1EsS0FBSyxDQUFDeUIsR0FBTjs7QUFFUCxNQUNDRixNQUFNLEdBQUcvQixHQUFULElBQ0ErQixNQUFNLEdBQUcvQixHQUFHLEdBQUMsRUFEYixJQUVBZ0MsTUFBTSxHQUFHaEMsR0FBRyxHQUFDLENBRmIsSUFHQWdDLE1BQU0sR0FBR2hDLEdBQUcsR0FBQyxFQUpkLEVBS0drQixVQUFVO0FBRVosTUFBR1IsR0FBRyxJQUFJLE1BQVYsRUFBa0JxQixNQUFNLElBQUkvQixHQUFWO0FBQ25CLE1BQUdVLEdBQUcsSUFBSSxPQUFWLEVBQW1CcUIsTUFBTSxJQUFJL0IsR0FBVjtBQUNuQixNQUFHVSxHQUFHLElBQUksSUFBVixFQUFnQnNCLE1BQU0sSUFBSWhDLEdBQVY7QUFDaEIsTUFBR1UsR0FBRyxJQUFJLE1BQVYsRUFBa0JzQixNQUFNLElBQUloQyxHQUFWO0FBRWxCVyxTQUFPLEdBQUdELEdBQVY7QUFFQSxNQUFJd0IsT0FBTyxHQUFHO0FBQ2IvQixLQUFDLEVBQUU0QixNQURVO0FBRWJ4QixLQUFDLEVBQUV5QjtBQUZVLEdBQWQ7QUFLQWxCLFNBQU8sQ0FBQ29CLE9BQUQsRUFBVTFCLEtBQVYsQ0FBUDtBQUVBQSxPQUFLLENBQUMyQixPQUFOLENBQWNELE9BQWQ7QUFDQTs7QUFFRCxJQUFJZCxJQUFKLEMiLCJmaWxlIjoianMuODZkYzMyMTVjZTE3MDNiMmE1ZWIuaG90LXVwZGF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvTWFpbk1lbnUgfSBmcm9tICcuL21haW5NZW51LmpzJ1xyXG5cclxuY29uc3QgbWFpbk1lbnVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1tZW51JylcclxubWFpbk1lbnVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b01haW5NZW51KVxyXG5cclxuY29uc3QgcmVzdGFydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXJ0JylcclxucmVzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc3RhcnQpXHJcblxyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZScpXHJcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXHJcblxyXG5jb25zdCBncm91bmQgPSBuZXcgSW1hZ2UoKVxyXG5ncm91bmQuc3JjID0gJy4vaW1nL2dyb3VuZC5wbmcnXHJcblxyXG5jb25zdCBmb29kSW1nID0gbmV3IEltYWdlKCkgLy9kZXByZWNhdGVkXHJcbmZvb2RJbWcuc3JjID0gJy4vaW1nL2Zvb2QucG5nJ1xyXG5cclxubGV0IGJveCA9IDMyXHJcblxyXG5sZXQgc2NvcmUgPSAwXHJcblxyXG5sZXQgZm9vZCA9IHtcclxuXHR4OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNyArIDEpICogYm94LFxyXG5cdHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1ICsgMykgKiBib3hcclxufVxyXG5cclxubGV0IHNuYWtlID0gW11cclxuc25ha2VbMF0gPSB7XHJcblx0eDogOSAqIGJveCxcclxuXHR5OiAxMCAqIGJveFxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGlyZWN0aW9uKVxyXG5cclxubGV0IGRpcjtcclxubGV0IHRpY2tEaXI7XHJcblxyXG5mdW5jdGlvbiBkaXJlY3Rpb24oZXZlbnQpIHtcclxuXHRpZihldmVudC5rZXlDb2RlID09IDM3ICYmIGRpciAhPSAncmlnaHQnICYmIHRpY2tEaXIgIT0gJ3JpZ2h0JylcclxuXHRcdGRpciA9ICdsZWZ0J1xyXG5cdGVsc2UgaWYoZXZlbnQua2V5Q29kZSA9PSAzOCAgJiYgZGlyICE9ICdkb3duJyAmJiB0aWNrRGlyICE9ICdkb3duJylcclxuXHRcdGRpciA9ICd1cCdcclxuXHRlbHNlIGlmKGV2ZW50LmtleUNvZGUgPT0gMzkgICYmIGRpciAhPSAnbGVmdCcgJiYgdGlja0RpciAhPSAnbGVmdCcpXHJcblx0XHRkaXIgPSAncmlnaHQnXHJcblx0ZWxzZSBpZihldmVudC5rZXlDb2RlID09IDQwICAmJiBkaXIgIT0gJ3VwJyAmJiB0aWNrRGlyICE9ICd1cCcpXHJcblx0XHRkaXIgPSAnZG93bidcclxufVxyXG5cclxuZnVuY3Rpb24gZWF0VGFpbChoZWFkLCBib2R5KSB7XHJcblx0Zm9yIChsZXQgaSBpbiBib2R5KSB7XHJcblx0XHRpZiggXHJcblx0XHRcdGhlYWQueCA9PSBib2R5W2ldLnggJiZcclxuXHRcdFx0aGVhZC55ID09IGJvZHlbaV0ueVxyXG5cdFx0XHQpIGZpbmlzaEdhbWUoKVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmluaXNoR2FtZSgpIHtcclxuXHRjbGVhckludGVydmFsKGdhbWUpXHJcblx0cmVzdGFydEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpXHJcblx0bWFpbk1lbnVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzdGFydCgpIHtcclxuXHRyZXN0YXJ0QnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJylcclxuXHRtYWluTWVudUJ0bi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpXHJcblxyXG5cdHNjb3JlID0gMFxyXG5cclxuXHRmb29kID0ge1xyXG5cdFx0eDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTcgKyAxKSAqIGJveCxcclxuXHRcdHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1ICsgMykgKiBib3hcclxuXHR9XHJcblxyXG5cdHNuYWtlID0gW11cclxuXHRzbmFrZVswXSA9IHtcclxuXHRcdHg6IDkgKiBib3gsXHJcblx0XHR5OiAxMCAqIGJveFxyXG5cdH1cclxuXHJcblx0ZGlyID0gbnVsbFxyXG5cdHRpY2tEaXIgPSBudWxsXHJcblxyXG5cdGdhbWUgPSBzZXRJbnRlcnZhbChkcmF3R2FtZSwgMTAwKVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3R2FtZSgpIHtcclxuXHRjdHguZHJhd0ltYWdlKGdyb3VuZCwgMCwgMClcclxuXHJcblx0Ly8gY3R4LmRyYXdJbWFnZShmb29kSW1nLCBmb29kLngsIGZvb2QueSwgYm94LCBib3gpXHJcblx0Y3R4LmZpbGxTdHlsZSA9ICdyZWQnXHJcblx0Y3R4LmZpbGxSZWN0KGZvb2QueCwgZm9vZC55LCBib3gsIGJveClcclxuXHJcblx0Zm9yIChsZXQgaSBpbiBzbmFrZSkge1xyXG5cdFx0Y3R4LmZpbGxTdHlsZSA9IGkgPT0gMCA/ICd5ZWxsb3cnIDogJ2dyZWVuJ1xyXG5cdFx0Y3R4LmZpbGxSZWN0KHNuYWtlW2ldLngsIHNuYWtlW2ldLnksIGJveCwgYm94KVxyXG5cdH1cclxuXHJcblx0Y3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSdcclxuXHRjdHguZm9udCA9ICczNXB4IFwiU2hvdmVsIEtuaWdodCAoZXh0ZW5kZWQpXCInXHJcblx0Y3R4LmZpbGxUZXh0KHNjb3JlLCBib3ggKiAyLjUsIGJveCAqIDEuNilcclxuXHJcblx0bGV0IHNuYWtlWCA9IHNuYWtlWzBdLnhcclxuXHRsZXQgc25ha2VZID0gc25ha2VbMF0ueVxyXG5cclxuXHRpZihzbmFrZVggPT0gZm9vZC54ICYmIHNuYWtlWSA9PSBmb29kLnkpIHtcclxuXHRcdHNjb3JlKytcclxuXHJcblx0XHRmb29kID0ge1xyXG5cdFx0XHR4OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNyArIDEpICogYm94LFxyXG5cdFx0XHR5OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNSArIDMpICogYm94XHJcblx0XHR9XHJcblx0fSBlbHNlIHNuYWtlLnBvcCgpXHJcblxyXG5cdGlmKCBcclxuXHRcdHNuYWtlWCA8IGJveCB8fCBcclxuXHRcdHNuYWtlWCA+IGJveCoxNyB8fFxyXG5cdFx0c25ha2VZIDwgYm94KjMgfHwgXHJcblx0XHRzbmFrZVkgPiBib3gqMTdcclxuXHRcdCkgZmluaXNoR2FtZSgpO1xyXG5cclxuXHRcdGlmKGRpciA9PSAnbGVmdCcpIHNuYWtlWCAtPSBib3g7XHJcblx0aWYoZGlyID09ICdyaWdodCcpIHNuYWtlWCArPSBib3g7XHJcblx0aWYoZGlyID09ICd1cCcpIHNuYWtlWSAtPSBib3g7XHJcblx0aWYoZGlyID09ICdkb3duJykgc25ha2VZICs9IGJveDtcclxuXHJcblx0dGlja0RpciA9IGRpclxyXG5cclxuXHRsZXQgbmV3SGVhZCA9IHtcclxuXHRcdHg6IHNuYWtlWCxcclxuXHRcdHk6IHNuYWtlWVxyXG5cdH1cclxuXHJcblx0ZWF0VGFpbChuZXdIZWFkLCBzbmFrZSlcclxuXHJcblx0c25ha2UudW5zaGlmdChuZXdIZWFkKVxyXG59XHJcblxyXG5sZXQgZ2FtZTsiXSwic291cmNlUm9vdCI6IiJ9